{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\MSU-Video-Streaming-Project\\\\new\\\\src\\\\page\\\\uploadPage.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport './../css/utilities.css';\nimport './../css/upload.css';\nimport Sidebar from \"../components/sidebar\";\nimport ProgressBar from \"../components/progressBar\";\nimport { getAPI } from \"../components/callAPI\";\nimport { getUser, getlocalData, isSessionSet } from \"../components/session\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadPage = () => {\n  _s();\n  var session;\n  var token;\n  const user = getUser();\n  if (isSessionSet('token')) {\n    // console.log('in local');\n    session = getlocalData('session');\n    token = getlocalData('token');\n  }\n  const uploadAPI = 'http://localhost:8900/upload';\n  const gatUploadApi = 'http://localhost:8900/get/videos/upload?u=' + user;\n  const [file, setFile] = useState();\n  const [vidDesc, setVidDesc] = useState('');\n  const [upProgress, setUpProgress] = useState('0');\n  const [vidPermit, setVidPermit] = useState('public');\n  const [tmp, setTmp] = useState('');\n  const [videoUrl, setVideoUrl] = useState(null);\n  const [videoKey, setVideoKey] = useState(0);\n  const [vidTags, setVidTags] = useState([]);\n  const [tags, setTags] = useState(null);\n  const [showTags, setShowTags] = useState(null);\n  const [thumbnail, setThumbnail] = useState(null);\n  const [windows, setWindows] = useState('upload');\n  const [uploading, setUploading] = useState(null);\n  useEffect(() => {\n    getAPI('tags').then(response => {\n      // const removeID = vidTags.map(tmp => tmp.T_ID);\n      // const tmp_tag = response.filter(tag => !removeID.includes(tag.T_ID))\n      setTags(response);\n      setShowTags(response);\n    });\n  }, []);\n  useEffect(() => {\n    const fetchData = () => {\n      fetch(gatUploadApi).then(response => {\n        return response.json();\n      }).then(data => {\n        setUploading(data);\n      });\n    };\n    let interval;\n    fetchData();\n    if (windows === 'uploading') {\n      interval = setInterval(fetchData, 20000);\n    }\n    return () => clearInterval(interval);\n  }, [windows]);\n  const checkDate = () => {\n    const expDate = getlocalData('expDate');\n    if (Date.now() >= expDate) {\n      localStorage.clear();\n      window.location.href = '/token-expired';\n    }\n  };\n  const handleTag = tag => {\n    const tmp_vidTags = [...vidTags];\n    const tmp_tags = showTags.filter(tmp_tag => tmp_tag !== tag);\n    tmp_vidTags.push(tag);\n    setVidTags(tmp_vidTags);\n    // setTags(tmp_tags);\n    setShowTags(tmp_tags);\n  };\n  const removeTag = tag => {\n    const tmp_vidTags = vidTags.filter(tmp_tag => tmp_tag !== tag);\n    const tmp_tags = [...showTags];\n    tmp_tags.push(tag);\n    const tmp = tmp_tags.map(tmp => tmp.T_ID);\n    const show = tags.filter(tag => tmp.includes(tag.T_ID));\n    setVidTags(tmp_vidTags);\n    // setTags(tmp_tags);\n    setShowTags(show);\n  };\n  const searchTag = e => {\n    e.preventDefault();\n    if (e.target.value === '') {\n      const removeID = vidTags.map(tmp => tmp.T_ID);\n      const tmp_tag = tags.filter(tag => !removeID.includes(tag.T_ID));\n      setShowTags(tmp_tag);\n    } else {\n      const input = e.target.value;\n      const tmp_tags = vidTags.map(tmp => tmp.T_ID);\n      const show = tags.filter(tag => !tmp_tags.includes(tag.T_ID));\n      const tmp = show.filter(tag => tag.T_name.toLowerCase().includes(input.toLowerCase()));\n      setShowTags(tmp);\n    }\n  };\n  const handleFileChange = e => {\n    // console.log(e.target.files[0]);\n    const tmpFile = e.target.files[0];\n    if (tmpFile) {\n      setFile(tmpFile);\n      setTmp(tmpFile.name);\n      setVideoUrl(URL.createObjectURL(tmpFile));\n      setVideoKey(videoKey + 1);\n    }\n  };\n  const handleVidName = e => {\n    setTmp(e.target.value);\n    e.preventDefault();\n  };\n  const handleVidDesc = e => {\n    setVidDesc(e.target.value);\n    e.preventDefault();\n  };\n  const handleSelect = e => {\n    setVidPermit(e.target.value);\n  };\n  const handleThumbnail = e => {\n    var thumbnail = e.target.files[0];\n    if (thumbnail) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        const image = new Image();\n        image.onload = () => {\n          const canvas = document.createElement('canvas');\n          const maxW = 800;\n          const aspectRatio = 16 / 9;\n          let w = image.width;\n          let h = image.height;\n          const maxH = Math.round(w / aspectRatio);\n          if (w > maxW || h > maxH) {\n            const wRatio = maxW / w;\n            const hRatio = maxH / h;\n            const ratio = Math.min(wRatio, hRatio);\n            w *= ratio;\n            h *= ratio;\n          }\n          canvas.width = w;\n          canvas.height = h;\n          const context = canvas.getContext('2d');\n          context.drawImage(image, 0, 0, w, h);\n          const b64 = canvas.toDataURL('image/jpeg');\n          const tmp = b64.replace(\"data:image/jpeg;base64,\", \"\");\n          setThumbnail(tmp);\n        };\n        image.src = reader.result;\n      };\n      reader.readAsDataURL(thumbnail);\n    }\n  };\n  const handleClickUpload = async () => {\n    checkDate();\n    setUpProgress('0');\n    if (file) {\n      document.getElementById('submitBtn').disabled = true;\n      document.getElementById('cancleBtn').disabled = true;\n      const video = document.createElement('video');\n      video.preload = 'metadata';\n      video.src = URL.createObjectURL(file);\n      video.addEventListener('loadedmetadata', function () {\n        const duration = video.duration;\n        const w = video.videoWidth;\n        const h = video.videoHeight;\n        const type = file.type.split('/').pop(); // video/mp4 -> [video, mp4] -> mp4\n        const tmpData = {\n          'videoName': tmp,\n          'videoOriginName': file.name,\n          'videoSize': file.size,\n          'videoDuration': duration,\n          'videoDesc': vidDesc,\n          'videoType': type,\n          'videoOwner': session.U_id,\n          'videoPermit': vidPermit,\n          'videoThumbnail': thumbnail,\n          'path': session.U_folder,\n          'width': w,\n          'height': h,\n          'tags': vidTags\n          // encode included\n        };\n        // setVidData(tmpData)\n\n        const formData = new FormData();\n        formData.append('video', file, file.name);\n        formData.append('data', JSON.stringify(tmpData));\n        // console.log(tmpData);\n        axios.post(uploadAPI, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n            'Authorization': 'Bearer ' + token\n          },\n          onUploadProgress: progressEvent => {\n            const progress = progressEvent.loaded / progressEvent.total;\n            let tmp = Math.round(progress * 100);\n            setUpProgress(tmp.toString());\n            if (tmp === 100.0 || tmp === 100) {\n              console.log('done upload');\n            }\n          }\n        }).then(response => {\n          window.location.reload();\n        }).catch(error => {\n          console.error('Upload failed:', error);\n        });\n      });\n    } else {\n      // active button after upload function\n      console.log('file not found');\n    }\n  };\n  const cardClick = () => {\n    document.getElementById('uploadBtn').click();\n    // handleClickUpload\n  };\n\n  const thumbnailClick = () => {\n    document.getElementById('imgBtn').click();\n  };\n  const logTest = () => {\n    console.log('work!!!');\n    console.log(vidPermit);\n  };\n  const changeWindows = win => {\n    if (win === 'upload') {\n      setUploading(null);\n    }\n    setWindows(win);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Sidebar, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: windows === 'upload' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-margin\",\n          style: {\n            marginTop: '6%',\n            backgroundColor: 'rgb(44,48,52)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                margin: '10px',\n                backgroundColor: 'gray'\n              },\n              onClick: () => changeWindows('upload'),\n              children: \"upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                margin: '10px',\n                backgroundColor: 'gray'\n              },\n              onClick: () => changeWindows('uploading'),\n              children: \"uploading video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-7\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [videoUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    style: {\n                      height: '65.7vh'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-body\",\n                      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                        controls: true,\n                        style: {\n                          width: '100%'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"source\", {\n                          src: videoUrl,\n                          type: \"video/mp4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 304,\n                          columnNumber: 61\n                        }, this)\n                      }, videoKey, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-primary\",\n                          onClick: cardClick,\n                          style: {\n                            marginRight: '5px'\n                          },\n                          children: \"Change Video\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-primary\",\n                          onClick: thumbnailClick,\n                          style: {\n                            marginLeft: '5px'\n                          },\n                          children: \"Select Thumbnail\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 311,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card upload-card\",\n                    onClick: cardClick,\n                    style: {\n                      height: '65.7vh'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-body\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"card-title center\",\n                        style: {\n                          marginTop: '20%'\n                        },\n                        children: \"Video Upload\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"card-text center\",\n                        children: \"Choose a video to upload.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control-file\",\n                    id: \"uploadBtn\",\n                    type: \"file\",\n                    accept: \"video/*\",\n                    style: {\n                      display: 'none'\n                    },\n                    onChange: handleFileChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control-file\",\n                    id: \"imgBtn\",\n                    type: \"file\",\n                    accept: \"image/png, image/jpeg\",\n                    style: {\n                      display: 'none'\n                    },\n                    onChange: handleThumbnail\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-5\",\n                style: {\n                  color: 'white'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Video Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input-group row mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      placeholder: \"\",\n                      value: tmp,\n                      onChange: handleVidName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Video Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      className: \"form-control\",\n                      onChange: handleVidDesc,\n                      rows: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Video Permission\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"form-control custom-select mb-3\",\n                      value: vidPermit,\n                      onChange: handleSelect,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"public\",\n                        children: \"Public\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"private\",\n                        children: \"Private\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 349,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"unlisted\",\n                        children: \"Unlisted\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group row\",\n                  style: {\n                    marginTop: '15px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Tag\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 45\n                  }, this), tags && /*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: [vidTags && vidTags.map((tag, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-auto\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"\",\n                          style: {\n                            width: 'fit-content',\n                            backgroundColor: 'white',\n                            borderRadius: '10px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              marginRight: '8px',\n                              marginTop: '5px',\n                              color: 'black'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => removeTag(tag),\n                              className: \"btn\",\n                              children: \"x\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 363,\n                              columnNumber: 73\n                            }, this), tag.T_name]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 362,\n                            columnNumber: 69\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 361,\n                          columnNumber: 65\n                        }, this)\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 360,\n                        columnNumber: 61\n                      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-auto\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            width: 'fit-content',\n                            backgroundColor: 'white',\n                            borderRadius: '10px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"dropdown\",\n                            style: {\n                              marginTop: '5px',\n                              color: 'black'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                              className: \"btn\",\n                              type: \"button\",\n                              id: \"dropdownTag\",\n                              \"aria-haspopup\": \"true\",\n                              \"data-bs-toggle\": \"dropdown\",\n                              \"aria-expanded\": \"false\",\n                              children: \"+\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 372,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"dropdown-menu dropdown-menu-dark \",\n                              \"aria-labelledby\": \"dropdownTag\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"col input-group\",\n                                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                                  type: \"text\",\n                                  className: \"form-control\",\n                                  placeholder: \"search tag\",\n                                  onChange: searchTag,\n                                  defaultValue: ''\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 375,\n                                  columnNumber: 77\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 374,\n                                columnNumber: 73\n                              }, this), showTags && showTags.slice(0, 5).map((d_tag, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                                className: \"dropdown-item\",\n                                onClick: () => handleTag(d_tag),\n                                children: [\"+ \", d_tag.T_name]\n                              }, index, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 378,\n                                columnNumber: 77\n                              }, this))]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 373,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 371,\n                            columnNumber: 65\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 370,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 369,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  style: {\n                    marginTop: '10%'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col btn-margin center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-primary rounded-pill\",\n                      style: {\n                        flex: '1',\n                        height: '130%'\n                      },\n                      id: \"submitBtn\",\n                      onClick: handleClickUpload,\n                      children: \"upload\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-danger rounded-pill\",\n                      style: {\n                        flex: '1',\n                        height: '130%'\n                      },\n                      id: \"cancleBtn\",\n                      onClick: logTest,\n                      children: \"cancle\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              style: {\n                marginLeft: '2px',\n                marginRight: '2px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress\",\n                  children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n                    value: upProgress + '%'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-margin\",\n          style: {\n            marginTop: '6%',\n            backgroundColor: 'rgb(44,48,52)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                margin: '10px',\n                backgroundColor: 'gray'\n              },\n              onClick: () => changeWindows('upload'),\n              children: \"upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                margin: '10px',\n                backgroundColor: 'gray'\n              },\n              onClick: () => changeWindows('uploading'),\n              children: \"uploading video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            style: {\n              color: 'white'\n            },\n            children: Object.keys(uploading).length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col-3\",\n                  children: \"Video\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Coverting\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 41\n              }, this), uploading.map((upload, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"col-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"card-img-top \",\n                      src: 'data:image/jpeg;base64,' + upload.V_pic,\n                      style: {\n                        marginBottom: '5px',\n                        borderRadius: '20px'\n                      },\n                      alt: upload.V_title + ' thumbnail'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12\",\n                      style: {\n                        marginLeft: '10px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                          children: [upload.V_title, \" : \", upload.V_encode]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 431,\n                          columnNumber: 58\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 431,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"progress\",\n                        children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n                          value: upload.V_permit\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 433,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 432,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 41\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 38\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"center\",\n              style: {\n                color: 'white'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"No video uploadig\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 9\n  }, this);\n};\n_s(UploadPage, \"VbjjcCDgnX70r+bl6qoecTzT1H0=\");\n_c = UploadPage;\nexport default UploadPage;\nvar _c;\n$RefreshReg$(_c, \"UploadPage\");","map":{"version":3,"names":["useState","useEffect","axios","Sidebar","ProgressBar","getAPI","getUser","getlocalData","isSessionSet","jsxDEV","_jsxDEV","UploadPage","_s","session","token","user","uploadAPI","gatUploadApi","file","setFile","vidDesc","setVidDesc","upProgress","setUpProgress","vidPermit","setVidPermit","tmp","setTmp","videoUrl","setVideoUrl","videoKey","setVideoKey","vidTags","setVidTags","tags","setTags","showTags","setShowTags","thumbnail","setThumbnail","windows","setWindows","uploading","setUploading","then","response","fetchData","fetch","json","data","interval","setInterval","clearInterval","checkDate","expDate","Date","now","localStorage","clear","window","location","href","handleTag","tag","tmp_vidTags","tmp_tags","filter","tmp_tag","push","removeTag","map","T_ID","show","includes","searchTag","e","preventDefault","target","value","removeID","input","T_name","toLowerCase","handleFileChange","tmpFile","files","name","URL","createObjectURL","handleVidName","handleVidDesc","handleSelect","handleThumbnail","reader","FileReader","onload","image","Image","canvas","document","createElement","maxW","aspectRatio","w","width","h","height","maxH","Math","round","wRatio","hRatio","ratio","min","context","getContext","drawImage","b64","toDataURL","replace","src","result","readAsDataURL","handleClickUpload","getElementById","disabled","video","preload","addEventListener","duration","videoWidth","videoHeight","type","split","pop","tmpData","size","U_id","U_folder","formData","FormData","append","JSON","stringify","post","headers","onUploadProgress","progressEvent","progress","loaded","total","toString","console","log","reload","catch","error","cardClick","click","thumbnailClick","logTest","changeWindows","win","children","className","style","marginTop","backgroundColor","margin","onClick","fileName","_jsxFileName","lineNumber","columnNumber","controls","marginRight","marginLeft","id","accept","display","onChange","color","placeholder","rows","index","borderRadius","defaultValue","slice","d_tag","flex","Object","keys","length","scope","upload","V_pic","marginBottom","alt","V_title","V_encode","V_permit","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/MSU-Video-Streaming-Project/new/src/page/uploadPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport './../css/utilities.css';\r\nimport './../css/upload.css';\r\n\r\nimport Sidebar from \"../components/sidebar\";\r\nimport ProgressBar from \"../components/progressBar\";\r\nimport { getAPI } from \"../components/callAPI\";\r\n\r\nimport { getUser, getlocalData, isSessionSet } from \"../components/session\";\r\n\r\nconst UploadPage = () => {\r\n\r\n    var session\r\n    var token\r\n    const user = getUser();\r\n\r\n    if (isSessionSet('token')) {\r\n        // console.log('in local');\r\n        session = getlocalData('session');\r\n        token = getlocalData('token')\r\n    }\r\n\r\n\r\n    const uploadAPI = 'http://localhost:8900/upload';\r\n    const gatUploadApi = 'http://localhost:8900/get/videos/upload?u=' + user;\r\n\r\n    const [file, setFile] = useState();\r\n    const [vidDesc, setVidDesc] = useState('');\r\n    const [upProgress, setUpProgress] = useState('0');\r\n    const [vidPermit, setVidPermit] = useState('public');\r\n    const [tmp, setTmp] = useState('');\r\n    const [videoUrl, setVideoUrl] = useState(null);\r\n    const [videoKey, setVideoKey] = useState(0);\r\n    const [vidTags, setVidTags] = useState([]);\r\n    const [tags, setTags] = useState(null);\r\n    const [showTags, setShowTags] = useState(null);\r\n    const [thumbnail, setThumbnail] = useState(null);\r\n    const [windows, setWindows] = useState('upload');\r\n    const [uploading, setUploading] = useState(null)\r\n\r\n    useEffect(() => {\r\n        getAPI('tags')\r\n            .then(response => {\r\n                // const removeID = vidTags.map(tmp => tmp.T_ID);\r\n                // const tmp_tag = response.filter(tag => !removeID.includes(tag.T_ID))\r\n                setTags(response);\r\n                setShowTags(response);\r\n            })\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchData = () => {\r\n            fetch(gatUploadApi)\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                setUploading(data);\r\n            })\r\n        }\r\n\r\n        let interval;\r\n\r\n        fetchData();\r\n        \r\n        if(windows === 'uploading') {\r\n            interval = setInterval(fetchData, 20000);\r\n        }\r\n\r\n        return () => clearInterval(interval);\r\n    }, [windows]);\r\n\r\n    const checkDate = () => {\r\n        const expDate = getlocalData('expDate');\r\n        if (Date.now() >= expDate) {\r\n            localStorage.clear();\r\n            window.location.href = '/token-expired';\r\n        }\r\n    }\r\n\r\n    const handleTag = (tag) => {\r\n        const tmp_vidTags = [...vidTags];\r\n        const tmp_tags = showTags.filter(tmp_tag => tmp_tag !== tag);\r\n        tmp_vidTags.push(tag);\r\n        setVidTags(tmp_vidTags);\r\n        // setTags(tmp_tags);\r\n        setShowTags(tmp_tags);\r\n    }\r\n\r\n    const removeTag = (tag) => {\r\n        const tmp_vidTags = vidTags.filter(tmp_tag => tmp_tag !== tag);\r\n        const tmp_tags = [...showTags];\r\n        tmp_tags.push(tag);\r\n        const tmp = tmp_tags.map(tmp => tmp.T_ID);\r\n        const show = tags.filter(tag => tmp.includes(tag.T_ID));\r\n        setVidTags(tmp_vidTags);\r\n        // setTags(tmp_tags);\r\n        setShowTags(show);\r\n    }\r\n\r\n    const searchTag = (e) => {\r\n        e.preventDefault();\r\n        if (e.target.value === '') {\r\n            const removeID = vidTags.map(tmp => tmp.T_ID);\r\n            const tmp_tag = tags.filter(tag => !removeID.includes(tag.T_ID))\r\n            setShowTags(tmp_tag);\r\n        } else {\r\n            const input = e.target.value;\r\n            const tmp_tags = vidTags.map(tmp => tmp.T_ID);\r\n            const show = tags.filter(tag => !tmp_tags.includes(tag.T_ID));\r\n            const tmp = show.filter(tag =>\r\n                tag.T_name.toLowerCase().includes(input.toLowerCase())\r\n            );\r\n            setShowTags(tmp);\r\n        }\r\n    };\r\n\r\n    const handleFileChange = (e) => {\r\n        // console.log(e.target.files[0]);\r\n        const tmpFile = e.target.files[0];\r\n        if (tmpFile) {\r\n            setFile(tmpFile);\r\n            setTmp(tmpFile.name);\r\n            setVideoUrl(URL.createObjectURL(tmpFile));\r\n            setVideoKey(videoKey + 1);\r\n        }\r\n\r\n    };\r\n\r\n    const handleVidName = (e) => {\r\n        setTmp(e.target.value)\r\n        e.preventDefault();\r\n    }\r\n\r\n    const handleVidDesc = (e) => {\r\n        setVidDesc(e.target.value)\r\n        e.preventDefault();\r\n    }\r\n\r\n    const handleSelect = (e) => {\r\n        setVidPermit(e.target.value);\r\n    }\r\n\r\n    const handleThumbnail = (e) => {\r\n        var thumbnail = e.target.files[0];\r\n        if (thumbnail) {\r\n            const reader = new FileReader();\r\n\r\n            reader.onload = () => {\r\n\r\n                const image = new Image();\r\n                image.onload = () => {\r\n                    const canvas = document.createElement('canvas');\r\n                    const maxW = 800;\r\n                    const aspectRatio = 16 / 9;\r\n\r\n\r\n                    let w = image.width;\r\n                    let h = image.height;\r\n\r\n                    const maxH = Math.round(w / aspectRatio);\r\n\r\n                    if (w > maxW || h > maxH) {\r\n                        const wRatio = maxW / w;\r\n                        const hRatio = maxH / h;\r\n\r\n                        const ratio = Math.min(wRatio, hRatio);\r\n                        w *= ratio;\r\n                        h *= ratio;\r\n                    }\r\n\r\n                    canvas.width = w;\r\n                    canvas.height = h;\r\n\r\n                    const context = canvas.getContext('2d');\r\n                    context.drawImage(image, 0, 0, w, h);\r\n\r\n                    const b64 = canvas.toDataURL('image/jpeg');\r\n                    const tmp = b64.replace(\"data:image/jpeg;base64,\", \"\");\r\n                    setThumbnail(tmp);\r\n                };\r\n\r\n                image.src = reader.result;\r\n            };\r\n\r\n            reader.readAsDataURL(thumbnail);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleClickUpload = async () => {\r\n\r\n        checkDate();\r\n\r\n        setUpProgress('0');\r\n        if (file) {\r\n\r\n            document.getElementById('submitBtn').disabled = true;\r\n            document.getElementById('cancleBtn').disabled = true;\r\n\r\n            const video = document.createElement('video');\r\n            video.preload = 'metadata';\r\n            video.src = URL.createObjectURL(file);\r\n\r\n            video.addEventListener('loadedmetadata', function () {\r\n                const duration = video.duration;\r\n                const w = video.videoWidth;\r\n                const h = video.videoHeight;\r\n                const type = file.type.split('/').pop(); // video/mp4 -> [video, mp4] -> mp4\r\n                const tmpData = {\r\n                    'videoName': tmp,\r\n                    'videoOriginName': file.name,\r\n                    'videoSize': file.size,\r\n                    'videoDuration': duration,\r\n                    'videoDesc': vidDesc,\r\n                    'videoType': type,\r\n                    'videoOwner': session.U_id,\r\n                    'videoPermit': vidPermit,\r\n                    'videoThumbnail': thumbnail,\r\n                    'path': session.U_folder,\r\n                    'width': w,\r\n                    'height': h,\r\n                    'tags': vidTags\r\n                    // encode included\r\n                }\r\n                // setVidData(tmpData)\r\n\r\n                const formData = new FormData();\r\n                formData.append('video', file, file.name);\r\n                formData.append('data', JSON.stringify(tmpData));\r\n                // console.log(tmpData);\r\n                axios.post(uploadAPI, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': 'Bearer ' + token\r\n                    },\r\n                    onUploadProgress: (progressEvent) => {\r\n                        const progress = (progressEvent.loaded / progressEvent.total);\r\n                        let tmp = Math.round(progress * 100)\r\n                        setUpProgress(tmp.toString());\r\n                        if (tmp === 100.0 || tmp === 100) {\r\n                            console.log('done upload');\r\n                        }\r\n                    },\r\n                })\r\n                    .then((response) => {\r\n                        window.location.reload();\r\n                    })\r\n                    \r\n                    .catch((error) => {\r\n                        console.error('Upload failed:', error);\r\n                    });\r\n            });\r\n\r\n        } else {\r\n            // active button after upload function\r\n            console.log('file not found');\r\n        }\r\n    }\r\n\r\n    const cardClick = () => {\r\n        document.getElementById('uploadBtn').click();\r\n        // handleClickUpload\r\n    }\r\n\r\n    const thumbnailClick = () => {\r\n        document.getElementById('imgBtn').click();\r\n    }\r\n\r\n    const logTest = () => {\r\n        console.log('work!!!');\r\n        console.log(vidPermit);\r\n    }\r\n\r\n    const changeWindows = (win) => {\r\n        if(win === 'upload') {\r\n            setUploading(null)\r\n        }\r\n        setWindows(win);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Sidebar>\r\n\r\n                <div className=\"container-fluid\">\r\n                    {windows === 'upload' ?\r\n                        <div className=\"card card-margin\" style={{ marginTop: '6%', backgroundColor: 'rgb(44,48,52)' }}>\r\n                            <div>\r\n                                <button className=\"btn\" style={{ margin: '10px', backgroundColor: 'gray' }} onClick={() => changeWindows('upload')}>upload</button>\r\n                                <button className=\"btn\" style={{ margin: '10px', backgroundColor: 'gray' }} onClick={() => changeWindows('uploading')}>uploading video</button>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-7\">\r\n                                        <div>\r\n                                            {videoUrl ? (\r\n                                                <div className=\"card\" style={{ height: '65.7vh' }}>\r\n                                                    <div className=\"card-body\">\r\n                                                        <video key={videoKey} controls style={{ width: '100%' }} >\r\n                                                            <source src={videoUrl} type=\"video/mp4\" />\r\n                                                        </video>\r\n\r\n                                                        <div className=\"center\">\r\n                                                            <button className=\"btn btn-primary\" onClick={cardClick} style={{ marginRight: '5px' }}>\r\n                                                                Change Video\r\n                                                            </button>\r\n                                                            <button className=\"btn btn-primary\" onClick={thumbnailClick} style={{ marginLeft: '5px' }}>\r\n                                                                Select Thumbnail\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                            ) : (\r\n                                                <div className=\"card upload-card\" onClick={cardClick} style={{ height: '65.7vh' }}>\r\n                                                    <div className=\"card-body\">\r\n                                                        <h4 className=\"card-title center\" style={{ marginTop: '20%' }}>Video Upload</h4>\r\n                                                        <p className=\"card-text center\">Choose a video to upload.</p>\r\n                                                    </div>\r\n                                                    {/* <input className=\"form-control-file\" id=\"uploadBtn\" type=\"file\" accept=\"video/*\" style={{ display: 'none' }} onChange={handleFileChange} /> */}\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            <input className=\"form-control-file\" id=\"uploadBtn\" type=\"file\" accept=\"video/*\" style={{ display: 'none' }} onChange={handleFileChange} />\r\n                                            <input className=\"form-control-file\" id=\"imgBtn\" type=\"file\" accept=\"image/png, image/jpeg\" style={{ display: 'none' }} onChange={handleThumbnail} />\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-5\" style={{ color: 'white' }}>\r\n                                        <div className=\"row\" >\r\n                                            <h4>Video Name</h4>\r\n                                            <div className=\"input-group row mb-3\">\r\n                                                <input type=\"text\" className=\"form-control\" placeholder='' value={tmp} onChange={handleVidName} ></input>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"input-group row\">\r\n                                            <div className=\"col\">\r\n                                                <h4>Video Description</h4>\r\n                                                <textarea className=\"form-control\" onChange={handleVidDesc} rows=\"4\"></textarea>\r\n                                            </div>\r\n                                            <div className=\"col\">\r\n                                                <h4>Video Permission</h4>\r\n                                                <select className=\"form-control custom-select mb-3\" value={vidPermit} onChange={handleSelect}>\r\n                                                    <option value='public'>Public</option>\r\n                                                    <option value=\"private\">Private</option>\r\n                                                    <option value=\"unlisted\">Unlisted</option>\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"input-group row\" style={{ marginTop: '15px' }}>\r\n                                            <label>Tag</label>\r\n                                            {tags &&\r\n                                                <h6>\r\n                                                    <div className=\"row\">\r\n                                                        {vidTags && vidTags.map((tag, index) => (\r\n                                                            <div className=\"col-auto\" key={index}>\r\n                                                                <div className=\"\" style={{ width: 'fit-content', backgroundColor: 'white', borderRadius: '10px' }}>\r\n                                                                    <div style={{ marginRight: '8px', marginTop: '5px', color: 'black' }}>\r\n                                                                        <button onClick={() => removeTag(tag)} className=\"btn\">x</button>\r\n                                                                        {tag.T_name}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        ))}\r\n                                                        <div className=\"col-auto\">\r\n                                                            <div style={{ width: 'fit-content', backgroundColor: 'white', borderRadius: '10px' }}>\r\n                                                                <div className=\"dropdown\" style={{ marginTop: '5px', color: 'black' }}>\r\n                                                                    <button className=\"btn\" type=\"button\" id=\"dropdownTag\" aria-haspopup=\"true\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">+</button>\r\n                                                                    <div className='dropdown-menu dropdown-menu-dark ' aria-labelledby='dropdownTag'>\r\n                                                                        <div className=\"col input-group\">\r\n                                                                            <input type=\"text\" className=\"form-control\" placeholder=\"search tag\" onChange={searchTag} defaultValue={''} />\r\n                                                                        </div>\r\n                                                                        {showTags && showTags.slice(0, 5).map((d_tag, index) => (\r\n                                                                            <button key={index} className='dropdown-item' onClick={() => handleTag(d_tag)}>+ {d_tag.T_name}</button>\r\n                                                                        ))}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </h6>\r\n                                            }\r\n                                        </div>\r\n                                        <div className=\"row\" style={{ marginTop: '10%' }}>\r\n                                            <div className=\"col btn-margin center\">\r\n                                                <button className=\"btn btn-primary rounded-pill\" style={{ flex: '1', height: '130%' }} id=\"submitBtn\" onClick={handleClickUpload}>upload</button>\r\n                                                <button className=\"btn btn-danger rounded-pill\" style={{ flex: '1', height: '130%' }} id=\"cancleBtn\" onClick={logTest}>cancle</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <br></br>\r\n                                <div className=\"row\" style={{ marginLeft: '2px', marginRight: '2px' }}>\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"progress\">\r\n                                            <ProgressBar value={upProgress + '%'} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <div className=\"card card-margin\" style={{ marginTop: '6%', backgroundColor: 'rgb(44,48,52)' }}>\r\n                            <div>\r\n                                <button className=\"btn\" style={{ margin: '10px', backgroundColor: 'gray' }} onClick={() => changeWindows('upload')}>upload</button>\r\n                                <button className=\"btn\" style={{ margin: '10px', backgroundColor: 'gray' }} onClick={() => changeWindows('uploading')}>uploading video</button>\r\n                            </div>\r\n                            <div className=\"card-body\" style={{color: 'white'}}>\r\n                                {Object.keys(uploading).length > 0 ? \r\n                                    <table>\r\n                                        <tr>\r\n                                            <th scope=\"col-3\">Video</th>\r\n                                            <th scope=\"col\">Coverting</th>\r\n                                        </tr>\r\n                                    \r\n                                {uploading.map((upload, index) => (\r\n                                     <tr key={index}> \r\n                                        <td className=\"col-3\">\r\n                                            <div>\r\n                                            <img className=\"card-img-top \" src={'data:image/jpeg;base64,' + upload.V_pic} style={{marginBottom: '5px', borderRadius: '20px'}} alt={upload.V_title+' thumbnail'} />\r\n                                            </div>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-12\" style={{marginLeft: '10px'}}>\r\n                                                    <div><h5>{upload.V_title} : {upload.V_encode}</h5></div>\r\n                                                    <div className=\"progress\">\r\n                                                        <ProgressBar value={upload.V_permit} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                                </table>\r\n                            :  \r\n                            <div className=\"center\" style={{color: 'white'}}>\r\n                                <h3>\r\n                                    No video uploadig\r\n                                </h3>\r\n                            </div> \r\n                            }\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Sidebar>\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport default UploadPage;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,wBAAwB;AAC/B,OAAO,qBAAqB;AAE5B,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAASC,MAAM,QAAQ,uBAAuB;AAE9C,SAASC,OAAO,EAAEC,YAAY,EAAEC,YAAY,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5E,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAErB,IAAIC,OAAO;EACX,IAAIC,KAAK;EACT,MAAMC,IAAI,GAAGT,OAAO,CAAC,CAAC;EAEtB,IAAIE,YAAY,CAAC,OAAO,CAAC,EAAE;IACvB;IACAK,OAAO,GAAGN,YAAY,CAAC,SAAS,CAAC;IACjCO,KAAK,GAAGP,YAAY,CAAC,OAAO,CAAC;EACjC;EAGA,MAAMS,SAAS,GAAG,8BAA8B;EAChD,MAAMC,YAAY,GAAG,4CAA4C,GAAGF,IAAI;EAExE,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAAC,CAAC;EAClC,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACsB,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAAC,GAAG,CAAC;EACjD,MAAM,CAACwB,SAAS,EAAEC,YAAY,CAAC,GAAGzB,QAAQ,CAAC,QAAQ,CAAC;EACpD,MAAM,CAAC0B,GAAG,EAAEC,MAAM,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAAC4B,QAAQ,EAAEC,WAAW,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACgC,OAAO,EAAEC,UAAU,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACkC,IAAI,EAAEC,OAAO,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACoC,QAAQ,EAAEC,WAAW,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACsC,SAAS,EAAEC,YAAY,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACwC,OAAO,EAAEC,UAAU,CAAC,GAAGzC,QAAQ,CAAC,QAAQ,CAAC;EAChD,MAAM,CAAC0C,SAAS,EAAEC,YAAY,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACZI,MAAM,CAAC,MAAM,CAAC,CACTuC,IAAI,CAACC,QAAQ,IAAI;MACd;MACA;MACAV,OAAO,CAACU,QAAQ,CAAC;MACjBR,WAAW,CAACQ,QAAQ,CAAC;IACzB,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN5C,SAAS,CAAC,MAAM;IACZ,MAAM6C,SAAS,GAAGA,CAAA,KAAM;MACpBC,KAAK,CAAC9B,YAAY,CAAC,CAClB2B,IAAI,CAAEC,QAAQ,IAAK;QAChB,OAAOA,QAAQ,CAACG,IAAI,CAAC,CAAC;MAC1B,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,IAAK;QACZN,YAAY,CAACM,IAAI,CAAC;MACtB,CAAC,CAAC;IACN,CAAC;IAED,IAAIC,QAAQ;IAEZJ,SAAS,CAAC,CAAC;IAEX,IAAGN,OAAO,KAAK,WAAW,EAAE;MACxBU,QAAQ,GAAGC,WAAW,CAACL,SAAS,EAAE,KAAK,CAAC;IAC5C;IAEA,OAAO,MAAMM,aAAa,CAACF,QAAQ,CAAC;EACxC,CAAC,EAAE,CAACV,OAAO,CAAC,CAAC;EAEb,MAAMa,SAAS,GAAGA,CAAA,KAAM;IACpB,MAAMC,OAAO,GAAG/C,YAAY,CAAC,SAAS,CAAC;IACvC,IAAIgD,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIF,OAAO,EAAE;MACvBG,YAAY,CAACC,KAAK,CAAC,CAAC;MACpBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,gBAAgB;IAC3C;EACJ,CAAC;EAED,MAAMC,SAAS,GAAIC,GAAG,IAAK;IACvB,MAAMC,WAAW,GAAG,CAAC,GAAGhC,OAAO,CAAC;IAChC,MAAMiC,QAAQ,GAAG7B,QAAQ,CAAC8B,MAAM,CAACC,OAAO,IAAIA,OAAO,KAAKJ,GAAG,CAAC;IAC5DC,WAAW,CAACI,IAAI,CAACL,GAAG,CAAC;IACrB9B,UAAU,CAAC+B,WAAW,CAAC;IACvB;IACA3B,WAAW,CAAC4B,QAAQ,CAAC;EACzB,CAAC;EAED,MAAMI,SAAS,GAAIN,GAAG,IAAK;IACvB,MAAMC,WAAW,GAAGhC,OAAO,CAACkC,MAAM,CAACC,OAAO,IAAIA,OAAO,KAAKJ,GAAG,CAAC;IAC9D,MAAME,QAAQ,GAAG,CAAC,GAAG7B,QAAQ,CAAC;IAC9B6B,QAAQ,CAACG,IAAI,CAACL,GAAG,CAAC;IAClB,MAAMrC,GAAG,GAAGuC,QAAQ,CAACK,GAAG,CAAC5C,GAAG,IAAIA,GAAG,CAAC6C,IAAI,CAAC;IACzC,MAAMC,IAAI,GAAGtC,IAAI,CAACgC,MAAM,CAACH,GAAG,IAAIrC,GAAG,CAAC+C,QAAQ,CAACV,GAAG,CAACQ,IAAI,CAAC,CAAC;IACvDtC,UAAU,CAAC+B,WAAW,CAAC;IACvB;IACA3B,WAAW,CAACmC,IAAI,CAAC;EACrB,CAAC;EAED,MAAME,SAAS,GAAIC,CAAC,IAAK;IACrBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAID,CAAC,CAACE,MAAM,CAACC,KAAK,KAAK,EAAE,EAAE;MACvB,MAAMC,QAAQ,GAAG/C,OAAO,CAACsC,GAAG,CAAC5C,GAAG,IAAIA,GAAG,CAAC6C,IAAI,CAAC;MAC7C,MAAMJ,OAAO,GAAGjC,IAAI,CAACgC,MAAM,CAACH,GAAG,IAAI,CAACgB,QAAQ,CAACN,QAAQ,CAACV,GAAG,CAACQ,IAAI,CAAC,CAAC;MAChElC,WAAW,CAAC8B,OAAO,CAAC;IACxB,CAAC,MAAM;MACH,MAAMa,KAAK,GAAGL,CAAC,CAACE,MAAM,CAACC,KAAK;MAC5B,MAAMb,QAAQ,GAAGjC,OAAO,CAACsC,GAAG,CAAC5C,GAAG,IAAIA,GAAG,CAAC6C,IAAI,CAAC;MAC7C,MAAMC,IAAI,GAAGtC,IAAI,CAACgC,MAAM,CAACH,GAAG,IAAI,CAACE,QAAQ,CAACQ,QAAQ,CAACV,GAAG,CAACQ,IAAI,CAAC,CAAC;MAC7D,MAAM7C,GAAG,GAAG8C,IAAI,CAACN,MAAM,CAACH,GAAG,IACvBA,GAAG,CAACkB,MAAM,CAACC,WAAW,CAAC,CAAC,CAACT,QAAQ,CAACO,KAAK,CAACE,WAAW,CAAC,CAAC,CACzD,CAAC;MACD7C,WAAW,CAACX,GAAG,CAAC;IACpB;EACJ,CAAC;EAED,MAAMyD,gBAAgB,GAAIR,CAAC,IAAK;IAC5B;IACA,MAAMS,OAAO,GAAGT,CAAC,CAACE,MAAM,CAACQ,KAAK,CAAC,CAAC,CAAC;IACjC,IAAID,OAAO,EAAE;MACTjE,OAAO,CAACiE,OAAO,CAAC;MAChBzD,MAAM,CAACyD,OAAO,CAACE,IAAI,CAAC;MACpBzD,WAAW,CAAC0D,GAAG,CAACC,eAAe,CAACJ,OAAO,CAAC,CAAC;MACzCrD,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;IAC7B;EAEJ,CAAC;EAED,MAAM2D,aAAa,GAAId,CAAC,IAAK;IACzBhD,MAAM,CAACgD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;IACtBH,CAAC,CAACC,cAAc,CAAC,CAAC;EACtB,CAAC;EAED,MAAMc,aAAa,GAAIf,CAAC,IAAK;IACzBtD,UAAU,CAACsD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;IAC1BH,CAAC,CAACC,cAAc,CAAC,CAAC;EACtB,CAAC;EAED,MAAMe,YAAY,GAAIhB,CAAC,IAAK;IACxBlD,YAAY,CAACkD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;EAChC,CAAC;EAED,MAAMc,eAAe,GAAIjB,CAAC,IAAK;IAC3B,IAAIrC,SAAS,GAAGqC,CAAC,CAACE,MAAM,CAACQ,KAAK,CAAC,CAAC,CAAC;IACjC,IAAI/C,SAAS,EAAE;MACX,MAAMuD,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAE/BD,MAAM,CAACE,MAAM,GAAG,MAAM;QAElB,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;QACzBD,KAAK,CAACD,MAAM,GAAG,MAAM;UACjB,MAAMG,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;UAC/C,MAAMC,IAAI,GAAG,GAAG;UAChB,MAAMC,WAAW,GAAG,EAAE,GAAG,CAAC;UAG1B,IAAIC,CAAC,GAAGP,KAAK,CAACQ,KAAK;UACnB,IAAIC,CAAC,GAAGT,KAAK,CAACU,MAAM;UAEpB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACN,CAAC,GAAGD,WAAW,CAAC;UAExC,IAAIC,CAAC,GAAGF,IAAI,IAAII,CAAC,GAAGE,IAAI,EAAE;YACtB,MAAMG,MAAM,GAAGT,IAAI,GAAGE,CAAC;YACvB,MAAMQ,MAAM,GAAGJ,IAAI,GAAGF,CAAC;YAEvB,MAAMO,KAAK,GAAGJ,IAAI,CAACK,GAAG,CAACH,MAAM,EAAEC,MAAM,CAAC;YACtCR,CAAC,IAAIS,KAAK;YACVP,CAAC,IAAIO,KAAK;UACd;UAEAd,MAAM,CAACM,KAAK,GAAGD,CAAC;UAChBL,MAAM,CAACQ,MAAM,GAAGD,CAAC;UAEjB,MAAMS,OAAO,GAAGhB,MAAM,CAACiB,UAAU,CAAC,IAAI,CAAC;UACvCD,OAAO,CAACE,SAAS,CAACpB,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEO,CAAC,EAAEE,CAAC,CAAC;UAEpC,MAAMY,GAAG,GAAGnB,MAAM,CAACoB,SAAS,CAAC,YAAY,CAAC;UAC1C,MAAM5F,GAAG,GAAG2F,GAAG,CAACE,OAAO,CAAC,yBAAyB,EAAE,EAAE,CAAC;UACtDhF,YAAY,CAACb,GAAG,CAAC;QACrB,CAAC;QAEDsE,KAAK,CAACwB,GAAG,GAAG3B,MAAM,CAAC4B,MAAM;MAC7B,CAAC;MAED5B,MAAM,CAAC6B,aAAa,CAACpF,SAAS,CAAC;IACnC;EAGJ,CAAC;EAED,MAAMqF,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IAElCtE,SAAS,CAAC,CAAC;IAEX9B,aAAa,CAAC,GAAG,CAAC;IAClB,IAAIL,IAAI,EAAE;MAENiF,QAAQ,CAACyB,cAAc,CAAC,WAAW,CAAC,CAACC,QAAQ,GAAG,IAAI;MACpD1B,QAAQ,CAACyB,cAAc,CAAC,WAAW,CAAC,CAACC,QAAQ,GAAG,IAAI;MAEpD,MAAMC,KAAK,GAAG3B,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MAC7C0B,KAAK,CAACC,OAAO,GAAG,UAAU;MAC1BD,KAAK,CAACN,GAAG,GAAGjC,GAAG,CAACC,eAAe,CAACtE,IAAI,CAAC;MAErC4G,KAAK,CAACE,gBAAgB,CAAC,gBAAgB,EAAE,YAAY;QACjD,MAAMC,QAAQ,GAAGH,KAAK,CAACG,QAAQ;QAC/B,MAAM1B,CAAC,GAAGuB,KAAK,CAACI,UAAU;QAC1B,MAAMzB,CAAC,GAAGqB,KAAK,CAACK,WAAW;QAC3B,MAAMC,IAAI,GAAGlH,IAAI,CAACkH,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAAC;QACzC,MAAMC,OAAO,GAAG;UACZ,WAAW,EAAE7G,GAAG;UAChB,iBAAiB,EAAER,IAAI,CAACoE,IAAI;UAC5B,WAAW,EAAEpE,IAAI,CAACsH,IAAI;UACtB,eAAe,EAAEP,QAAQ;UACzB,WAAW,EAAE7G,OAAO;UACpB,WAAW,EAAEgH,IAAI;UACjB,YAAY,EAAEvH,OAAO,CAAC4H,IAAI;UAC1B,aAAa,EAAEjH,SAAS;UACxB,gBAAgB,EAAEc,SAAS;UAC3B,MAAM,EAAEzB,OAAO,CAAC6H,QAAQ;UACxB,OAAO,EAAEnC,CAAC;UACV,QAAQ,EAAEE,CAAC;UACX,MAAM,EAAEzE;UACR;QACJ,CAAC;QACD;;QAEA,MAAM2G,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE3H,IAAI,EAAEA,IAAI,CAACoE,IAAI,CAAC;QACzCqD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACR,OAAO,CAAC,CAAC;QAChD;QACArI,KAAK,CAAC8I,IAAI,CAAChI,SAAS,EAAE2H,QAAQ,EAAE;UAC5BM,OAAO,EAAE;YACL,cAAc,EAAE,qBAAqB;YACrC,eAAe,EAAE,SAAS,GAAGnI;UACjC,CAAC;UACDoI,gBAAgB,EAAGC,aAAa,IAAK;YACjC,MAAMC,QAAQ,GAAID,aAAa,CAACE,MAAM,GAAGF,aAAa,CAACG,KAAM;YAC7D,IAAI5H,GAAG,GAAGkF,IAAI,CAACC,KAAK,CAACuC,QAAQ,GAAG,GAAG,CAAC;YACpC7H,aAAa,CAACG,GAAG,CAAC6H,QAAQ,CAAC,CAAC,CAAC;YAC7B,IAAI7H,GAAG,KAAK,KAAK,IAAIA,GAAG,KAAK,GAAG,EAAE;cAC9B8H,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;YAC9B;UACJ;QACJ,CAAC,CAAC,CACG7G,IAAI,CAAEC,QAAQ,IAAK;UAChBc,MAAM,CAACC,QAAQ,CAAC8F,MAAM,CAAC,CAAC;QAC5B,CAAC,CAAC,CAEDC,KAAK,CAAEC,KAAK,IAAK;UACdJ,OAAO,CAACI,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;QAC1C,CAAC,CAAC;MACV,CAAC,CAAC;IAEN,CAAC,MAAM;MACH;MACAJ,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IACjC;EACJ,CAAC;EAED,MAAMI,SAAS,GAAGA,CAAA,KAAM;IACpB1D,QAAQ,CAACyB,cAAc,CAAC,WAAW,CAAC,CAACkC,KAAK,CAAC,CAAC;IAC5C;EACJ,CAAC;;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IACzB5D,QAAQ,CAACyB,cAAc,CAAC,QAAQ,CAAC,CAACkC,KAAK,CAAC,CAAC;EAC7C,CAAC;EAED,MAAME,OAAO,GAAGA,CAAA,KAAM;IAClBR,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtBD,OAAO,CAACC,GAAG,CAACjI,SAAS,CAAC;EAC1B,CAAC;EAED,MAAMyI,aAAa,GAAIC,GAAG,IAAK;IAC3B,IAAGA,GAAG,KAAK,QAAQ,EAAE;MACjBvH,YAAY,CAAC,IAAI,CAAC;IACtB;IACAF,UAAU,CAACyH,GAAG,CAAC;EACnB,CAAC;EAED,oBACIxJ,OAAA;IAAAyJ,QAAA,eACIzJ,OAAA,CAACP,OAAO;MAAAgK,QAAA,eAEJzJ,OAAA;QAAK0J,SAAS,EAAC,iBAAiB;QAAAD,QAAA,EAC3B3H,OAAO,KAAK,QAAQ,gBACjB9B,OAAA;UAAK0J,SAAS,EAAC,kBAAkB;UAACC,KAAK,EAAE;YAAEC,SAAS,EAAE,IAAI;YAAEC,eAAe,EAAE;UAAgB,CAAE;UAAAJ,QAAA,gBAC3FzJ,OAAA;YAAAyJ,QAAA,gBACIzJ,OAAA;cAAQ0J,SAAS,EAAC,KAAK;cAACC,KAAK,EAAE;gBAAEG,MAAM,EAAE,MAAM;gBAAED,eAAe,EAAE;cAAO,CAAE;cAACE,OAAO,EAAEA,CAAA,KAAMR,aAAa,CAAC,QAAQ,CAAE;cAAAE,QAAA,EAAC;YAAM;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACnInK,OAAA;cAAQ0J,SAAS,EAAC,KAAK;cAACC,KAAK,EAAE;gBAAEG,MAAM,EAAE,MAAM;gBAAED,eAAe,EAAE;cAAO,CAAE;cAACE,OAAO,EAAEA,CAAA,KAAMR,aAAa,CAAC,WAAW,CAAE;cAAAE,QAAA,EAAC;YAAe;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9I,CAAC,eACNnK,OAAA;YAAK0J,SAAS,EAAC,WAAW;YAAAD,QAAA,gBACtBzJ,OAAA;cAAK0J,SAAS,EAAC,KAAK;cAAAD,QAAA,gBAChBzJ,OAAA;gBAAK0J,SAAS,EAAC,OAAO;gBAAAD,QAAA,eAClBzJ,OAAA;kBAAAyJ,QAAA,GACKvI,QAAQ,gBACLlB,OAAA;oBAAK0J,SAAS,EAAC,MAAM;oBAACC,KAAK,EAAE;sBAAE3D,MAAM,EAAE;oBAAS,CAAE;oBAAAyD,QAAA,eAC9CzJ,OAAA;sBAAK0J,SAAS,EAAC,WAAW;sBAAAD,QAAA,gBACtBzJ,OAAA;wBAAsBoK,QAAQ;wBAACT,KAAK,EAAE;0BAAE7D,KAAK,EAAE;wBAAO,CAAE;wBAAA2D,QAAA,eACpDzJ,OAAA;0BAAQ8G,GAAG,EAAE5F,QAAS;0BAACwG,IAAI,EAAC;wBAAW;0BAAAsC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE;sBAAC,GADlC/I,QAAQ;wBAAA4I,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAEb,CAAC,eAERnK,OAAA;wBAAK0J,SAAS,EAAC,QAAQ;wBAAAD,QAAA,gBACnBzJ,OAAA;0BAAQ0J,SAAS,EAAC,iBAAiB;0BAACK,OAAO,EAAEZ,SAAU;0BAACQ,KAAK,EAAE;4BAAEU,WAAW,EAAE;0BAAM,CAAE;0BAAAZ,QAAA,EAAC;wBAEvF;0BAAAO,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAQ,CAAC,eACTnK,OAAA;0BAAQ0J,SAAS,EAAC,iBAAiB;0BAACK,OAAO,EAAEV,cAAe;0BAACM,KAAK,EAAE;4BAAEW,UAAU,EAAE;0BAAM,CAAE;0BAAAb,QAAA,EAAC;wBAE3F;0BAAAO,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAQ,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACR,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACL;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,gBAGNnK,OAAA;oBAAK0J,SAAS,EAAC,kBAAkB;oBAACK,OAAO,EAAEZ,SAAU;oBAACQ,KAAK,EAAE;sBAAE3D,MAAM,EAAE;oBAAS,CAAE;oBAAAyD,QAAA,eAC9EzJ,OAAA;sBAAK0J,SAAS,EAAC,WAAW;sBAAAD,QAAA,gBACtBzJ,OAAA;wBAAI0J,SAAS,EAAC,mBAAmB;wBAACC,KAAK,EAAE;0BAAEC,SAAS,EAAE;wBAAM,CAAE;wBAAAH,QAAA,EAAC;sBAAY;wBAAAO,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eAChFnK,OAAA;wBAAG0J,SAAS,EAAC,kBAAkB;wBAAAD,QAAA,EAAC;sBAAyB;wBAAAO,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAG,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC5D;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEL,CACR,eAEDnK,OAAA;oBAAO0J,SAAS,EAAC,mBAAmB;oBAACa,EAAE,EAAC,WAAW;oBAAC7C,IAAI,EAAC,MAAM;oBAAC8C,MAAM,EAAC,SAAS;oBAACb,KAAK,EAAE;sBAAEc,OAAO,EAAE;oBAAO,CAAE;oBAACC,QAAQ,EAAEjG;kBAAiB;oBAAAuF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAC3InK,OAAA;oBAAO0J,SAAS,EAAC,mBAAmB;oBAACa,EAAE,EAAC,QAAQ;oBAAC7C,IAAI,EAAC,MAAM;oBAAC8C,MAAM,EAAC,uBAAuB;oBAACb,KAAK,EAAE;sBAAEc,OAAO,EAAE;oBAAO,CAAE;oBAACC,QAAQ,EAAExF;kBAAgB;oBAAA8E,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAEpJ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACNnK,OAAA;gBAAK0J,SAAS,EAAC,OAAO;gBAACC,KAAK,EAAE;kBAAEgB,KAAK,EAAE;gBAAQ,CAAE;gBAAAlB,QAAA,gBAC7CzJ,OAAA;kBAAK0J,SAAS,EAAC,KAAK;kBAAAD,QAAA,gBAChBzJ,OAAA;oBAAAyJ,QAAA,EAAI;kBAAU;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACnBnK,OAAA;oBAAK0J,SAAS,EAAC,sBAAsB;oBAAAD,QAAA,eACjCzJ,OAAA;sBAAO0H,IAAI,EAAC,MAAM;sBAACgC,SAAS,EAAC,cAAc;sBAACkB,WAAW,EAAC,EAAE;sBAACxG,KAAK,EAAEpD,GAAI;sBAAC0J,QAAQ,EAAE3F;oBAAc;sBAAAiF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAS;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eACNnK,OAAA;kBAAK0J,SAAS,EAAC,iBAAiB;kBAAAD,QAAA,gBAC5BzJ,OAAA;oBAAK0J,SAAS,EAAC,KAAK;oBAAAD,QAAA,gBAChBzJ,OAAA;sBAAAyJ,QAAA,EAAI;oBAAiB;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC1BnK,OAAA;sBAAU0J,SAAS,EAAC,cAAc;sBAACgB,QAAQ,EAAE1F,aAAc;sBAAC6F,IAAI,EAAC;oBAAG;sBAAAb,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAW,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/E,CAAC,eACNnK,OAAA;oBAAK0J,SAAS,EAAC,KAAK;oBAAAD,QAAA,gBAChBzJ,OAAA;sBAAAyJ,QAAA,EAAI;oBAAgB;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACzBnK,OAAA;sBAAQ0J,SAAS,EAAC,iCAAiC;sBAACtF,KAAK,EAAEtD,SAAU;sBAAC4J,QAAQ,EAAEzF,YAAa;sBAAAwE,QAAA,gBACzFzJ,OAAA;wBAAQoE,KAAK,EAAC,QAAQ;wBAAAqF,QAAA,EAAC;sBAAM;wBAAAO,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,eACtCnK,OAAA;wBAAQoE,KAAK,EAAC,SAAS;wBAAAqF,QAAA,EAAC;sBAAO;wBAAAO,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,eACxCnK,OAAA;wBAAQoE,KAAK,EAAC,UAAU;wBAAAqF,QAAA,EAAC;sBAAQ;wBAAAO,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACtC,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACR,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eACNnK,OAAA;kBAAK0J,SAAS,EAAC,iBAAiB;kBAACC,KAAK,EAAE;oBAAEC,SAAS,EAAE;kBAAO,CAAE;kBAAAH,QAAA,gBAC1DzJ,OAAA;oBAAAyJ,QAAA,EAAO;kBAAG;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,EACjB3I,IAAI,iBACDxB,OAAA;oBAAAyJ,QAAA,eACIzJ,OAAA;sBAAK0J,SAAS,EAAC,KAAK;sBAAAD,QAAA,GACfnI,OAAO,IAAIA,OAAO,CAACsC,GAAG,CAAC,CAACP,GAAG,EAAEyH,KAAK,kBAC/B9K,OAAA;wBAAK0J,SAAS,EAAC,UAAU;wBAAAD,QAAA,eACrBzJ,OAAA;0BAAK0J,SAAS,EAAC,EAAE;0BAACC,KAAK,EAAE;4BAAE7D,KAAK,EAAE,aAAa;4BAAE+D,eAAe,EAAE,OAAO;4BAAEkB,YAAY,EAAE;0BAAO,CAAE;0BAAAtB,QAAA,eAC9FzJ,OAAA;4BAAK2J,KAAK,EAAE;8BAAEU,WAAW,EAAE,KAAK;8BAAET,SAAS,EAAE,KAAK;8BAAEe,KAAK,EAAE;4BAAQ,CAAE;4BAAAlB,QAAA,gBACjEzJ,OAAA;8BAAQ+J,OAAO,EAAEA,CAAA,KAAMpG,SAAS,CAACN,GAAG,CAAE;8BAACqG,SAAS,EAAC,KAAK;8BAAAD,QAAA,EAAC;4BAAC;8BAAAO,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAQ,CAAC,EAChE9G,GAAG,CAACkB,MAAM;0BAAA;4BAAAyF,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACV;wBAAC;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACL;sBAAC,GANqBW,KAAK;wBAAAd,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAO/B,CACR,CAAC,eACFnK,OAAA;wBAAK0J,SAAS,EAAC,UAAU;wBAAAD,QAAA,eACrBzJ,OAAA;0BAAK2J,KAAK,EAAE;4BAAE7D,KAAK,EAAE,aAAa;4BAAE+D,eAAe,EAAE,OAAO;4BAAEkB,YAAY,EAAE;0BAAO,CAAE;0BAAAtB,QAAA,eACjFzJ,OAAA;4BAAK0J,SAAS,EAAC,UAAU;4BAACC,KAAK,EAAE;8BAAEC,SAAS,EAAE,KAAK;8BAAEe,KAAK,EAAE;4BAAQ,CAAE;4BAAAlB,QAAA,gBAClEzJ,OAAA;8BAAQ0J,SAAS,EAAC,KAAK;8BAAChC,IAAI,EAAC,QAAQ;8BAAC6C,EAAE,EAAC,aAAa;8BAAC,iBAAc,MAAM;8BAAC,kBAAe,UAAU;8BAAC,iBAAc,OAAO;8BAAAd,QAAA,EAAC;4BAAC;8BAAAO,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAQ,CAAC,eACtInK,OAAA;8BAAK0J,SAAS,EAAC,mCAAmC;8BAAC,mBAAgB,aAAa;8BAAAD,QAAA,gBAC5EzJ,OAAA;gCAAK0J,SAAS,EAAC,iBAAiB;gCAAAD,QAAA,eAC5BzJ,OAAA;kCAAO0H,IAAI,EAAC,MAAM;kCAACgC,SAAS,EAAC,cAAc;kCAACkB,WAAW,EAAC,YAAY;kCAACF,QAAQ,EAAE1G,SAAU;kCAACgH,YAAY,EAAE;gCAAG;kCAAAhB,QAAA,EAAAC,YAAA;kCAAAC,UAAA;kCAAAC,YAAA;gCAAA,OAAE;8BAAC;gCAAAH,QAAA,EAAAC,YAAA;gCAAAC,UAAA;gCAAAC,YAAA;8BAAA,OAC7G,CAAC,EACLzI,QAAQ,IAAIA,QAAQ,CAACuJ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACrH,GAAG,CAAC,CAACsH,KAAK,EAAEJ,KAAK,kBAC/C9K,OAAA;gCAAoB0J,SAAS,EAAC,eAAe;gCAACK,OAAO,EAAEA,CAAA,KAAM3G,SAAS,CAAC8H,KAAK,CAAE;gCAAAzB,QAAA,GAAC,IAAE,EAACyB,KAAK,CAAC3G,MAAM;8BAAA,GAAjFuG,KAAK;gCAAAd,QAAA,EAAAC,YAAA;gCAAAC,UAAA;gCAAAC,YAAA;8BAAA,OAAqF,CAC1G,CAAC;4BAAA;8BAAAH,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OACD,CAAC;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACL;wBAAC;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACL;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACL,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACL;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAER,CAAC,eACNnK,OAAA;kBAAK0J,SAAS,EAAC,KAAK;kBAACC,KAAK,EAAE;oBAAEC,SAAS,EAAE;kBAAM,CAAE;kBAAAH,QAAA,eAC7CzJ,OAAA;oBAAK0J,SAAS,EAAC,uBAAuB;oBAAAD,QAAA,gBAClCzJ,OAAA;sBAAQ0J,SAAS,EAAC,8BAA8B;sBAACC,KAAK,EAAE;wBAAEwB,IAAI,EAAE,GAAG;wBAAEnF,MAAM,EAAE;sBAAO,CAAE;sBAACuE,EAAE,EAAC,WAAW;sBAACR,OAAO,EAAE9C,iBAAkB;sBAAAwC,QAAA,EAAC;oBAAM;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACjJnK,OAAA;sBAAQ0J,SAAS,EAAC,6BAA6B;sBAACC,KAAK,EAAE;wBAAEwB,IAAI,EAAE,GAAG;wBAAEnF,MAAM,EAAE;sBAAO,CAAE;sBAACuE,EAAE,EAAC,WAAW;sBAACR,OAAO,EAAET,OAAQ;sBAAAG,QAAA,EAAC;oBAAM;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACrI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACNnK,OAAA;cAAAgK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTnK,OAAA;cAAK0J,SAAS,EAAC,KAAK;cAACC,KAAK,EAAE;gBAAEW,UAAU,EAAE,KAAK;gBAAED,WAAW,EAAE;cAAM,CAAE;cAAAZ,QAAA,eAClEzJ,OAAA;gBAAK0J,SAAS,EAAC,QAAQ;gBAAAD,QAAA,eACnBzJ,OAAA;kBAAK0J,SAAS,EAAC,UAAU;kBAAAD,QAAA,eACrBzJ,OAAA,CAACN,WAAW;oBAAC0E,KAAK,EAAExD,UAAU,GAAG;kBAAI;oBAAAoJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,gBAENnK,OAAA;UAAK0J,SAAS,EAAC,kBAAkB;UAACC,KAAK,EAAE;YAAEC,SAAS,EAAE,IAAI;YAAEC,eAAe,EAAE;UAAgB,CAAE;UAAAJ,QAAA,gBAC3FzJ,OAAA;YAAAyJ,QAAA,gBACIzJ,OAAA;cAAQ0J,SAAS,EAAC,KAAK;cAACC,KAAK,EAAE;gBAAEG,MAAM,EAAE,MAAM;gBAAED,eAAe,EAAE;cAAO,CAAE;cAACE,OAAO,EAAEA,CAAA,KAAMR,aAAa,CAAC,QAAQ,CAAE;cAAAE,QAAA,EAAC;YAAM;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACnInK,OAAA;cAAQ0J,SAAS,EAAC,KAAK;cAACC,KAAK,EAAE;gBAAEG,MAAM,EAAE,MAAM;gBAAED,eAAe,EAAE;cAAO,CAAE;cAACE,OAAO,EAAEA,CAAA,KAAMR,aAAa,CAAC,WAAW,CAAE;cAAAE,QAAA,EAAC;YAAe;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9I,CAAC,eACNnK,OAAA;YAAK0J,SAAS,EAAC,WAAW;YAACC,KAAK,EAAE;cAACgB,KAAK,EAAE;YAAO,CAAE;YAAAlB,QAAA,EAC9C2B,MAAM,CAACC,IAAI,CAACrJ,SAAS,CAAC,CAACsJ,MAAM,GAAG,CAAC,gBAC9BtL,OAAA;cAAAyJ,QAAA,gBACIzJ,OAAA;gBAAAyJ,QAAA,gBACIzJ,OAAA;kBAAIuL,KAAK,EAAC,OAAO;kBAAA9B,QAAA,EAAC;gBAAK;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC5BnK,OAAA;kBAAIuL,KAAK,EAAC,KAAK;kBAAA9B,QAAA,EAAC;gBAAS;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC,EAEZnI,SAAS,CAAC4B,GAAG,CAAC,CAAC4H,MAAM,EAAEV,KAAK,kBACxB9K,OAAA;gBAAAyJ,QAAA,gBACGzJ,OAAA;kBAAI0J,SAAS,EAAC,OAAO;kBAAAD,QAAA,eACjBzJ,OAAA;oBAAAyJ,QAAA,eACAzJ,OAAA;sBAAK0J,SAAS,EAAC,eAAe;sBAAC5C,GAAG,EAAE,yBAAyB,GAAG0E,MAAM,CAACC,KAAM;sBAAC9B,KAAK,EAAE;wBAAC+B,YAAY,EAAE,KAAK;wBAAEX,YAAY,EAAE;sBAAM,CAAE;sBAACY,GAAG,EAAEH,MAAM,CAACI,OAAO,GAAC;oBAAa;sBAAA5B,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjK;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eACLnK,OAAA;kBAAAyJ,QAAA,eACIzJ,OAAA;oBAAK0J,SAAS,EAAC,KAAK;oBAAAD,QAAA,eAChBzJ,OAAA;sBAAK0J,SAAS,EAAC,QAAQ;sBAACC,KAAK,EAAE;wBAACW,UAAU,EAAE;sBAAM,CAAE;sBAAAb,QAAA,gBAChDzJ,OAAA;wBAAAyJ,QAAA,eAAKzJ,OAAA;0BAAAyJ,QAAA,GAAK+B,MAAM,CAACI,OAAO,EAAC,KAAG,EAACJ,MAAM,CAACK,QAAQ;wBAAA;0BAAA7B,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAK;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAK,CAAC,eACxDnK,OAAA;wBAAK0J,SAAS,EAAC,UAAU;wBAAAD,QAAA,eACrBzJ,OAAA,CAACN,WAAW;0BAAC0E,KAAK,EAAEoH,MAAM,CAACM;wBAAS;0BAAA9B,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACtC,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACL;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC;cAAA,GAfCW,KAAK;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAgBX,CACP,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC,gBAEZnK,OAAA;cAAK0J,SAAS,EAAC,QAAQ;cAACC,KAAK,EAAE;gBAACgB,KAAK,EAAE;cAAO,CAAE;cAAAlB,QAAA,eAC5CzJ,OAAA;gBAAAyJ,QAAA,EAAI;cAEJ;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAED,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAET;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAId,CAAC;AAAAjK,EAAA,CA5bKD,UAAU;AAAA8L,EAAA,GAAV9L,UAAU;AA8bhB,eAAeA,UAAU;AAAC,IAAA8L,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}